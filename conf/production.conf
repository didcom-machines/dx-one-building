# Production Build Configuration
# Source this file or include it in your local.conf for production builds
# Usage: echo 'require ${TOPDIR}/../conf/production.conf' >> conf/local.conf

# Build parallelism (tuned for production server)
BB_NUMBER_THREADS = "20"
PARALLEL_MAKE = "-j 12"

# Persistent storage locations (production paths)
DL_DIR = "/opt/downloads"
DEPLOY_DIR = "/opt/deploy"

# Mender OTA Server Configuration
MENDER_SERVER_URL = "https://hosted.mender.io"
MENDER_TENANT_TOKEN = "_SGAC3DbZ6qjL389XztoY7eP39SVBvKmPAy0VAnoNag"
MENDER_DEVICE_TYPE = "siiab-ejecutivo"

# Storage configuration for Mender
MENDER_STORAGE_DEVICE = "/dev/mmcblk1"
MENDER_BOOT_PART_SIZE_MB = "64"
MENDER_DATA_PART_SIZE_MB = "1024"

# Enable Mender integration
INHERIT += "mender-full"
MENDER_ARTIFACT_NAME = "${BUILD_VERSION}"

# Remove debug features for production
EXTRA_IMAGE_FEATURES:remove = "allow-empty-password empty-root-password allow-root-login debug-tweaks"

# Production security settings
EXTRA_USERS_PARAMS:append = " \
    usermod -L root; \
"
