images:
  - name: core-image-minimal
    description: "Minimal bootable image (for testing)"
    build_type: validation
    enabled: true
    
  - name: automotive-infotainment-image
    description: "Automotive Infotainment DIDCOM full image"
    build_type: production
    enabled: true
    
  - name: siiab-ejecutivo-image
    description: "SIIAB Ejecutivo full image"
    build_type: production
    enabled: true

build_matrix:
  validation:
    # Quick validation on commit
    - machine: dx-one-dart-mx8mp
      distro: automotive-infotainment
      image: core-image-minimal
  
  production:
    # Full builds on release tag
    # dx-one-dart-mx95 with both images (same distro)
    - machine: dx-one-dart-mx95
      distro: automotive-infotainment
      image: automotive-infotainment-image
      
    - machine: dx-one-dart-mx95
      distro: automotive-infotainment
      image: siiab-ejecutivo-image
    
    # dx-one-dart-mx8mp with automotive-infotainment
    - machine: dx-one-dart-mx8mp
      distro: automotive-infotainment
      image: automotive-infotainment-image
    
    # RPi for development
    - machine: dx-one-rpi-zero2w
      distro: poky
      image: core-image-minimal